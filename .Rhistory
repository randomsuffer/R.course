barplot(mtcars$qsec)
df <- mtcars[,"qsec"]
df
df <- table(mtcars$gear)
df
df <- table(mtcars$qsec)
df
mtcars$qsec
round(mtcars$qsec)
df <- table(mtcars$qsec)
df <- table(round(mtcars$qsec))
df
barplot(df, main="Car Distribution", xlab="Number of Gears")
barplot(df, main="Car Distribution", xlab="Number cars on 1/4 mile time")
barplot(df, main="1/4 mile time car distribution", xlab="Number of cars")
hist(df)
hist(mtcars$qsec)
hist(mtcars$qsec, freq=FALSE)
mtcars$qsec
UKgas
AirPassengers
WorldPhones
pie(WorldPhones, main="Pie Chart of Countries")
WorldPhones
WorldPhones["1951"]
WorldPhones["1951",]
pie(WorldPhones["1951",], main="Pie Chart of Countries")
_labels <- c('North America', 'Europe', 'Asia', 'South America', 'Oceania', 'Africa', 'Middle America')
lbls <- c('North America', 'Europe', 'Asia', 'South America', 'Oceania', 'Africa', 'Middle America')
pie(WorldPhones["1951",], labels = _labels, main = "Pie Chart of Countries")
pie(WorldPhones["1951",], labels = lbls, main = "Pie Chart of Countries")
WorldPhones
UKgas
AirPassengers
UKgas
UKgas[,'Qtr1']
UKgas[,2]
UKgas[2]
class(Qtr1)
class(UKgas)
UKgas
UKgas[1]
UKgas[1,]
UKgas[1,,]
UKgas[1,,,]
UKgas[[1]]
UKgas[[1,]]
UKgas[[1]][1]
UKgas[[1]][1,]
df2 <- table(UKgas)
df2
df2 <- as.data.frame(UKgas)
df2
table(UKgas)
BOD
EuStockMarkets
co2
esoph
women
morley
UKgas
?UKgas
plot(UKgas)
str(UKgas)
?str
UKgas[1:12]
df2 <- UKgas
?ts
as.matrix(UKgas)
df2 <- as.matrix(UKgas, ncol = 4)
df2
as.matrix(UKgas, ncol = 4)
matrix(UKgas, ncol = 4)
df2 <- as.data.frame(matrix(UKgas, ncol = 4))
df2
colnames(UKgas)
df2 <- as.data.frame(matrix(UKgas, ncol = 4))
UKgas
matrix(UKgas, ncol = 4)
as.matrix(UKgas)
as.ts(UKgas)
as.xts(UKgas)
as.mts(UKgas)
?matrix
df2 <- as.data.frame(matrix(UKgas, ncol = 4))
colnames(df2) <- c('Qtr1', 'Qtr2', 'Qtr3', 'Qtr4')
rownames(df2) <- c(1960:1986)
df2
barplot(df2, main = "Car Distribution by Gears and VS",
xlab = "Number of Gears",
col = c('darkblue', 'red', 'green', 'yellow'),
legend = rownames(df2))
barplot(df2, main = "Car Distribution by Gears and VS",
xlab = "Number of Gears",
# col = c('darkblue', 'red', 'green', 'yellow'),
legend = rownames(df2))
?barplot
barplot(df2, main = "Car Distribution by Gears and VS",
xlab = "Number of Gears",
# col = c('lightblue', 'mistyrose', 'lightcyan', 'lavender'),
legend = rownames(df2))
df2 <- as.data.frame(matrix(UKgas, ncol = 4))
colnames(df2) <- c('Qtr1', 'Qtr2', 'Qtr3', 'Qtr4')
rownames(df2) <- c(1960:1986)
barplot(df2, main = "Car Distribution by Gears and VS",
xlab = "Number of Gears",
# col = c('lightblue', 'mistyrose', 'lightcyan', 'lavender'),
legend = rownames(df2))
AirPassengers
UKgas
mtcars
WorldPhones
plot(as.vector(AirPassengers), type = 'l')
plot(mtcars$wt, mtcars$hp, xlab = 'weight', ylab = 'horse power')
abline(lm(mtcars$hp~mtcars$wt))
title('Regression of horse power on weight')
df <- table(mtcars$qsec)
df
df <- table(round(mtcars$qsec))
df
barplot(df, main="1/4 mile time car distribution", xlab="Number of cars")
lbls <- c('North America', 'Europe', 'Asia', 'South America', 'Oceania', 'Africa', 'Middle America')
pie(WorldPhones["1951",], labels = lbls, main = "Pie Chart of Countries")
lbls
?pie
pie(WorldPhones["1951",], labels = lbls, main = "Pie Chart of Countries", radius = 2)
plot(as.vector(AirPassengers), type = 'l')
plot(mtcars$wt, mtcars$hp, xlab = 'weight', ylab = 'horse power')
abline(lm(mtcars$hp~mtcars$wt))
title('Regression of horse power on weight')
df <- table(mtcars$qsec)
df <- table(round(mtcars$qsec))
barplot(df, main="1/4 mile time car distribution", xlab="Number of cars")
lbls <- c('North America', 'Europe', 'Asia', 'South America', 'Oceania', 'Africa', 'Middle America')
pie(WorldPhones["1951",], labels = lbls, main = "Pie Chart of Countries")
df2 <- as.data.frame(matrix(UKgas, ncol = 4))
colnames(df2) <- c('Qtr1', 'Qtr2', 'Qtr3', 'Qtr4')
rownames(df2) <- c(1960:1986)
barplot(df2, main = "Car Distribution by Gears and VS",
xlab = "Number of Gears",
# col = c('lightblue', 'mistyrose', 'lightcyan', 'lavender'),
legend = rownames(df2))
barplot(df, main="1/4 mile time car distribution", xlab="Number of cars")
df
df[2,]
df[2]
max(df)
0:max(df)
barplot(df, main="1/4 mile time car distribution", xlab="Number of cars", ylim = 0:max(df))
barplot(df, main="1/4 mile time car distribution", xlab="Number of cars", ylim = c(0,max(df)))
seq(0,max(df),1)
seq(0,max(df),0.5)
seq(0,max(df),1)
?axis
axis(2,seq(0,max(df),1),seq(0,max(df),1))
?barplot
barplot(df, main="1/4 mile time car distribution", xlab="Number of cars",
ylim = c(0,max(df)), axis(2,seq(0,max(df),1),seq(0,max(df),1))
)
barplot(df, main="1/4 mile time car distribution", xlab="Number of cars",
ylim = c(0,max(df)))
axis(2,seq(0,max(df),1),seq(0,max(df),1))
barplot(df, main="1/4 mile time car distribution", xlab="Number of cars",
ylim = c(0,max(df)), axes = F)
axis(2,seq(0,max(df),1),seq(0,max(df),1))
axis(2,seq(0,max(df),0.2),seq(0,max(df),1))
barplot(df, main="1/4 mile time car distribution", xlab="Number of cars",
ylim = c(0,max(df)), axes = F)
axis(2,seq(0,max(df),0.2),seq(0,max(df),1))
seq(0,15,3)
axis(2,c(1,10),seq(0,max(df),1))
library(RColorBrewer)
brewer.pal(6, "BuGn")
?brewer.pal
brewer.pal(6, "OrRd")
brewer.pal(6, "PuRd")
?barplot
wide[,8:13]
df2
barplot(df2)
?reshape
Loblolly[1:10,]
Loblolly
?Loblolly
Loblolly[1:10,]
wide <- reshape(Loblolly,
v.names = "height",
timevar = "age",
idvar = "Seed",
direction = "wide")
wide
df2
wide[1:5,]
wide$h0.3 <- wide$height.3
wide$h3.5 <- wide$height.5 - wide$height.3
wide$h5.10 <- wide$height.10 - wide$height.5
wide$h10.15 <- wide$height.15 - wide$height.10
wide$h15.20 <- wide$height.20 - wide$height.15
wide$h20.25 <- wide$height.25 - wide$height.20
wide
wide <- t(wide[,8:13])
wide
t(df2)
df2 <- t(df2)
barplot(df2)
library(RColorBrewer)
clrs <- brewer.pal(6, "PuRd")
barplot(df2,
col = clrs)
library(RColorBrewer)
clrs <- brewer.pal(6, "YlGn ")
barplot(df2,
col = clrs)
library(RColorBrewer)
clrs <- brewer.pal(6, "YlGn")
barplot(df2,
col = clrs)
barplot(df2,
col = clrs,
xlab = "Seed Source",
ylab = "Height, Feet")
barplot(df2,
col = clrs,
xlab = "Seed Source",
ylab = "Height, Feet",
xlim = c(0,20),
width = 1)
df2
length(df2)
ncol(df2)
barplot(df2,
col = clrs,
xlab = "Seed Source",
ylab = "Height, Feet",
xlim = c(0,10),
width = 1)
barplot(df2,
col = clrs,
xlab = "Seed Source",
ylab = "Height, Feet",
xlim = c(0,30),
width = 1)
barplot(df2,
col = clrs,
xlab = "Seed Source",
ylab = "Height, Feet",
xlim = c(0,40),
width = 1)
df2
rownames(df2)
df2 <- as.data.frame(matrix(UKgas, ncol = 4))
colnames(df2) <- c('Qtr1', 'Qtr2', 'Qtr3', 'Qtr4')
rownames(df2) <- c(1960:1986)
df2 <- t(df2)
library(RColorBrewer)
clrs <- brewer.pal(4, "YlGn")
barplot(df2,
col = clrs,
xlab = "Seed Source",
ylab = "Height, Feet",
xlim = c(0,40),
width = 1)
clrs <- brewer.pal(4, "GnBu")
barplot(df2,
col = clrs,
xlab = "Seed Source",
ylab = "Height, Feet",
xlim = c(0,40),
width = 1)
legend("bottomright",
legend = rownames(df2),
fill = clrs[4:1],
title = "Legend")
df2
legend("bottomright",
legend = rownames(df2),
fill = clrs,
title = "Legend")
legend("bottomright",
legend = rownames(df2),
title = "Legend")
legend("bottomright",
legend = rownames(df2),
fill = clrs,
title = "Legend")
barplot(df2,
col = clrs,
xlab = "Seed Source",
ylab = "Height, Feet",
xlim = c(0,27*2),
width = 1)
legend("bottomright",
legend = rownames(df2),
fill = clrs,
title = "Legend")
barplot(df2,
col = clrs,
xlab = "Seed Source",
ylab = "Height, Feet",
xlim = c(0,27*1.5),
width = 1)
legend("bottomright",
legend = rownames(df2),
fill = clrs,
title = "Legend")
ncol(df2)
AirPassengers
UKgas
mtcars
WorldPhones
plot(as.vector(AirPassengers), type = 'l')
plot(mtcars$wt, mtcars$hp, xlab = 'weight', ylab = 'horse power')
abline(lm(mtcars$hp~mtcars$wt))
title('Regression of horse power on weight')
df <- table(mtcars$qsec)
df <- table(round(mtcars$qsec))
barplot(df, main="1/4 mile time car distribution", xlab="Number of cars")
lbls <- c('North America', 'Europe', 'Asia', 'South America', 'Oceania', 'Africa', 'Middle America')
pie(WorldPhones["1951",], labels = lbls, main = "Pie Chart of Countries")
df2 <- as.data.frame(matrix(UKgas, ncol = 4))
colnames(df2) <- c('Qtr1', 'Qtr2', 'Qtr3', 'Qtr4')
rownames(df2) <- c(1960:1986)
barplot(df2, main = "Car Distribution by Gears and VS",
xlab = "Number of Gears",
# col = c('lightblue', 'mistyrose', 'lightcyan', 'lavender'),
legend = rownames(df2))
barplot(df, main="1/4 mile time car distribution", xlab="Number of cars",
ylim = c(0,max(df)), axes = F)
axis(2,seq(0,max(df),1),seq(0,max(df),1))
pie(WorldPhones["1951",], labels = lbls, main = "Pie Chart of Countries", radius = 2)
df2 <- t(df2)
library(RColorBrewer)
clrs <- brewer.pal(4, "GnBu")
barplot(df2,
col = clrs,
xlab = "Seed Source",
ylab = "Height, Feet",
xlim = c(0, ncol(df2) * 1.5),
width = 1)
legend("bottomright",
legend = rownames(df2),
fill = clrs,
title = "Legend")
UKgas
?UKgas
barplot(df2,
col = clrs,
main = "Quarterly UK gas consumption",
xlab = "Years",
ylab = "Millions of therms",
xlim = c(0, ncol(df2) * 1.5),
width = 1)
legend("bottomright",
legend = rownames(df2),
fill = clrs,
title = "Legend")
library(RColorBrewer)
clrs <- c('lightblue', 'mistyrose', 'lightcyan', 'lavender')
barplot(df2,
col = clrs,
main = "Quarterly UK gas consumption",
xlab = "Years",
ylab = "Millions of therms",
xlim = c(0, ncol(df2) * 1.5),
width = 1)
legend("bottomright",
legend = rownames(df2),
fill = clrs,
title = "Legend")
df2 <- as.data.frame(matrix(UKgas, ncol = 4))
colnames(df2) <- c('Qtr1', 'Qtr2', 'Qtr3', 'Qtr4')
rownames(df2) <- c(1960:1986)
barplot(df, main="1/4 mile time car distribution", xlab="Number of cars",
ylim = c(0,max(df)), axes = F)
axis(2,seq(0,max(df),1),seq(0,max(df),1))
pie(WorldPhones["1951",], labels = lbls, main = "Pie Chart of Countries", radius = 2)
df2 <- t(df2)
library(RColorBrewer)
clrs <- brewer.pal(4, "GnBu")
barplot(df2,
col = clrs,
main = "Quarterly UK gas consumption",
xlab = "Years",
ylab = "Millions of therms",
xlim = c(0, ncol(df2) * 1.5),
width = 1)
legend("bottomright",
legend = rownames(df2),
fill = clrs,
title = "Legend")
cat("\014") #очистить консоль
df <- read.table('lesson 5.txt', sep = ';', dec = '.', header = TRUE)
head(df)
df$X.DATE. <- as.Date(as.character(df$X.DATE.), '%Y%m%d')
df <- df[,-c(1,2)]
head(df)
colnames(df) <- c('Date', 'Time', 'Open', 'High', 'Low', 'Close', 'Volume')
head(df)
df <- read.table('lesson 5.txt', sep = ';', dec = '.', header = TRUE)
df <- df[,-c(1,2)]
colnames(df) <- c('Date', 'Time', 'Open', 'High', 'Low', 'Close', 'Volume')
head(df)
df$Time[1]
'20161101 110000'
as.Date('20161101 110000', '%Y%m%d %h%m%s')
?chron
??chron
library(xts)
?as.Date
df$Date[1]
df$Date[1]
as.POSIXct(df$Date[1])
?as.POSIXct
?strptime
strptime('20161101 110000')
strptime('20161101 110000', format = c('%Y%m%d', '%h%m%s'))
strptime('20161101 110000', format = c('%Y%m%d %h%m%s'))
?strptime
strptime('20161101 110000', format = c('%Y%m%d %H:%M:%S'))
strptime('20161101 110000', format = c('%Y%m%d %H%M%S'))
as.POSIXct('20161101 110000', format = c('%Y%m%d %H%M%S'))
paste(df$Date[1], df$Time[1])
as.POSIXct(paste(df$Date, df$Time), format = c('%Y%m%d %H%M%S'))
head(df, 15)
class(df)
class(df$Time)
head(df[,-'Time'])
head(df[,'Time'])
head(df[,-2])
df <- read.table('lesson 5.txt', sep = ';', dec = '.', header = TRUE)
df <- read.table('lesson 5.txt', sep = ';', dec = '.', header = TRUE)
df <- df[,-c(1,2)]
colnames(df) <- c('Date', 'Time', 'Open', 'High', 'Low', 'Close', 'Volume')
head(df)
df$Time[df$Time == 0]
df$Time[df$Time == 0] <- '000000'
head(df, 15)
df$Time[df$Time == 0] <- '000000'
df$Date <- as.POSIXct(paste(df$Date, df$Time), format = c('%Y%m%d %H%M%S'))
df <- df[,-2]
head(df)
head(df, 20)
class(df$Open)
gsub('.', '', df$Open[1])
df$Open[1]
df <- read.table('lesson 5.txt', sep = ';', dec = '.', header = TRUE, stringsAsFactors = F)
df <- df[,-c(1,2)]
colnames(df) <- c('Date', 'Time', 'Open', 'High', 'Low', 'Close', 'Volume')
df$Time[df$Time == 0] <- '000000'
df$Date <- as.POSIXct(paste(df$Date, df$Time), format = c('%Y%m%d %H%M%S'))
df <- df[,-2]
head(df, 20)
gsub('.', '', df$Open[1])
df$Open[1]
class(df$Open)
gsub(',', '.', '3511,3')
gsub('.', '', as.character(df$Open[1]))
gsub('.', ' ', as.character(df$Open[1]))
?gsub
sub('.', '', as.character(df$Open[1]))
df$Open[1]
grep('.', '', as.character(df$Open[1]))
df$Open[1]
as.numeric(df$Open[1])
as.integer(df$Open[1])
gsub('\\.', ' ', as.character(df$Open[1]))
gsub('\\.', '', as.character(df$Open[1]))
gsub('\\.', '', df$Open[1])
as.numeric(gsub('\\.', '', df$Open[1])) / 10000000
df$Open <- as.numeric(gsub('\\.', '', df$Open)) / 10000000
df <- read.table('lesson 5.txt', sep = ';', dec = '.', header = TRUE, stringsAsFactors = F)
df <- df[,-c(1,2)]
colnames(df) <- c('Date', 'Time', 'Open', 'High', 'Low', 'Close', 'Volume')
df$Time[df$Time == 0] <- '000000'
df$Date <- as.POSIXct(paste(df$Date, df$Time), format = c('%Y%m%d %H%M%S'))
df <- df[,-2]
df$Open <- as.numeric(gsub('\\.', '', df$Open)) / 10000000
df$High <- as.numeric(gsub('\\.', '', df$High)) / 10000000
df$Low <- as.numeric(gsub('\\.', '', df$Low)) / 10000000
df$Close <- as.numeric(gsub('\\.', '', df$Close)) / 10000000
head(df, 20)
df <- read.table('lesson 5.txt', sep = ';', dec = '.', header = TRUE, stringsAsFactors = F)
df <- df[,-c(1,2)]
colnames(df) <- c('Date', 'Time', 'Open', 'High', 'Low', 'Close', 'Volume')
df$Time[df$Time == 0] <- '000000'
df$Date <- as.POSIXct(paste(df$Date, df$Time), format = c('%Y%m%d %H%M%S'))
df <- df[,-2]
df$Open <- as.numeric(gsub('\\.', '', df$Open)) / 10000000
df$High <- as.numeric(gsub('\\.', '', df$High)) / 10000000
df$Low <- as.numeric(gsub('\\.', '', df$Low)) / 10000000
df$Close <- as.numeric(gsub('\\.', '', df$Close)) / 10000000
df$Volume <- as.numeric(gsub('\\.', '', df$Volume)) / 10000000
head(df, 20)
df <- read.table('lesson 5.txt', sep = ';', dec = '.', header = TRUE, stringsAsFactors = F)
df <- df[,-c(1,2)]
colnames(df) <- c('Date', 'Time', 'Open', 'High', 'Low', 'Close', 'Volume')
df$Time[df$Time == 0] <- '000000'
df$Date <- as.POSIXct(paste(df$Date, df$Time), format = c('%Y%m%d %H%M%S'))
df <- df[,-2]
df$Open <- as.numeric(gsub('\\.', '', df$Open)) / 10000000
df$High <- as.numeric(gsub('\\.', '', df$High)) / 10000000
df$Low <- as.numeric(gsub('\\.', '', df$Low)) / 10000000
df$Close <- as.numeric(gsub('\\.', '', df$Close)) / 10000000
df$Volume <- as.numeric(gsub('\\.', '', df$Volume))
head(df, 20)
write.csv(df, 'lesson 5.csv', sep = ';', dec = ',')
write.csv(df, 'lesson 5.csv', row.names = NULL)
write.csv(df, 'lesson 5.csv')
library(quantmod)
getSymbols('MSFT',src='yahoo')
getSymbols.yahoo('MSFT')
head(MSFT)
